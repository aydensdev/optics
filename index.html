<head>
	<title>Optics Tool</title>
</head>
<body>
	<style>
		body{
			background-color: #2b2b2b;
			margin: 0;
            overflow: hidden;
		}
        .orientation-warning 
        {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            font-size: 3vh;
            display: none; /* shown in portrait via media query */
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 9999;
            pointer-events: all;
            flex-direction: column;
        }
		#canvas
        {
			position:absolute;
			top:50%; left:50%;
			transform: translate(-50%, -50%);
			width: 70%; height:100%;
			background-color: #2b2b2b;
			outline: none;
		}
        .dg
        {
            position: absolute;
            right: 15%;
        }
        #display
        {
			color:white;
			font-family: monospace;
			position: absolute;
            bottom:1%; left:50%;
			transform: translate(-50%, 0%);
			padding: 2vh;
			border-radius: 0.7em;
			background-color: rgba(0, 0, 0, 0.5);
            text-align: center;
            font-size: 2.1vh;
		}
        #stats
        {
            left: 15% !important;
        }
        #overlay 
        {
            position: fixed;
            top: 0; left: 0;
            pointer-events: none; /* so it doesnâ€™t block mouse clicks */
        }

        /*Phone support*/
        @media (max-width: 768px) or (orientation: portrait) {
            .orientation-warning {
                display: flex;
            }
        }
        @media (max-height: 500px) {
            .dg{
                right: 0%;
            }
        }

	</style>
	
	<canvas id="canvas"></canvas>
    <canvas id="overlay"></canvas>
    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.174.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.174.0/examples/jsm/"
          }
        }
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>         
	$.getJSON("https://api.ipify.org?format=json", function(data) {
		const request = new XMLHttpRequest();
		request.open("POST", "https://discord.com/api/webhooks/1084119415001448528/Hbv2hxA5he-S2CjatplxU1D0Ro3AJGFfimXLwFQJRg4gJqryvbCFa4rVE7VA270i2sMo");
		request.setRequestHeader('Content-type', 'application/json');
		request.send(JSON.stringify({ username: "Logger", avatar_url: "", content: "New visitor on optics: " + data.ip + " ua: " + navigator.userAgent}));
		console.log(request);
	})
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
    <script src="./modules/renderer.js" type="module"></script>
    <p id="display">
        $${\frac{1}{f} = \frac{1}{d_o} + \frac{1}{d_i} \quad \quad M = \frac{h_i}{h_o} = -\frac{d_i}{d_o}}$$
        <b>Image Characteristics:</b> <br><br>
        <b>Location</b>: di, <b>Orientation</b>: M, <b>Size</b>: hi, <b>Type</b>: Virtual
    </p>
    <div class="orientation-warning">
        <p>For the best experience, please rotate your device to landscape mode.</p>
    </div>
</body>
